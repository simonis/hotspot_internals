java -cp ../dist/benchmarks.jar org.simonis.LongLoopWithGC 10000
run -cp ../dist/benchmarks.jar org.simonis.LongLoopWithGC 10000
c
where
call pns($sp, $rbp, $pc)
x /4i $pc
call find(0x7ffff7ff5000)
info symbol 0x7ffff7ff5000
info address 0x7ffff7ff5000
run -cp ../dist/benchmarks.jar -Xlog:os org.simonis.LongLoopWithGC 10000
run -cp ../dist/benchmarks.jar -XX:CompileCommand="option org.simonis.*WithGC::* PrintOptoAssembly" -Xlog:os org.simonis.LongLoopWithGC 10000
c
run -cp ../dist/benchmarks.jar -XX:CompileCommand="option org.simonis.LongLoopWithGC::* PrintOptoAssembly" -Xlog:os org.simonis.LongLoopWithGC 10000
c
x /4i $pc
call pns($sp, $rbp, $pc)
si
n
s
n
n
p /x stub
tb *stub
c
call find($pc)
call pns($sp, $rbp, $pc)
si
list
call pns($sp, $rbp, $pc)
c
where
call pns($sp, $rbp, $pc)
c
i b
run -cp ../dist/benchmarks.jar -XX:CompileCommand="option org.simonis.LongLoopWithGC::* PrintOptoAssembly" -Xlog:os org.simonis.LongLoopWithGC 10000
c
si
n
s
n
tb *stub
c
si
n
call pns($sp, $rbp, $pc)
c
call find(0x00007fffe461e4a1)
n
c
quit
run -cp ../dist/benchmarks.jar -XX:CompileCommand="option org.simonis.LongLoopWithGC::* PrintOptoAssembly" -Xlog:os org.simonis.LongLoopWithGC 10000
c
x /4i $pc
call pns($sp, $rbp, $pc)
si
n
s
n
tb *stub
c
call find($pc)
si
n
call pns($sp, $rbp, $pc)
c
c
c
call pns($sp, $rbp, $pc)
run -cp ../dist/benchmarks.jar -XX:CompileCommand="option org.simonis.LongLoopWithGC::* PrintOptoAssembly" -Xlog:os org.simonis.LongLoopWithGC 10000
c
c
quit
run -cp ../dist/benchmarks.jar -XX:CompileCommand="option org.simonis.IntLoopWithGC::* PrintOptoAssembly" -Xlog:os org.simonis.IntLoopWithGC 10000
c
call pns($sp, $rbp, $pc)
c
c
run -cp ../dist/benchmarks.jar -XX:CompileCommand="option org.simonis.IntLoopWithGC::* PrintOptoAssembly" -Xlog:os org.simonis.IntLoopWithGC 10000
c
call pns($sp, $rbp, $pc)
c
run -cp ../dist/benchmarks.jar -XX:CompileCommand="option org.simonis.IntLoopWithGC::* PrintOptoAssembly" -Xlog:os org.simonis.IntLoopWithGC 10000
c
call find($pc)
c
run -cp ../dist/benchmarks.jar -XX:CompileCommand="option org.simonis.IntLoopWithGC::* PrintOptoAssembly" -Xlog:os -XX:+UseCountedLoopSafepoints org.simonis.IntLoopWithGC 10000
c
call pns($sp, $rbp, $pc)
c
c
c
info threads
b 'SafepointSynchronize::begin()' 
c
list
b 'os::make_polling_page_unreadable()' 
c
list
c
x /4i $pc
c
p _polling_page
dis 1 2
c
quit
run -cp ../dist/benchmarks.jar -XX:CompileCommand="option org.simonis.LoopWithGC::* PrintOptoAssembly" -Xlog:os org.simonis.LoopWithGC 100000000
c
c
run -cp ../dist/benchmarks.jar -XX:CompileCommand="option org.simonis.LoopWithGC::* PrintOptoAssembly" -XX:-InlineMathNativey -XX:+PrintInlining -Xlog:os org.simonis.LoopWithGC 100000000
run -cp ../dist/benchmarks.jar -XX:CompileCommand="option org.simonis.LoopWithGC::* PrintOptoAssembly" -XX:-InlineMathNatives -XX:+PrintInlining -Xlog:os org.simonis.LoopWithGC 100000000
c
where
c
where
call pns($sp, $rbp, $pc)
c
quit
